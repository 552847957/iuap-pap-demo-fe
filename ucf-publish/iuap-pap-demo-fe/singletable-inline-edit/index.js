/*! build:ucf hash:04a7939bec0a7ea3c0ad, chunkhash:b31149b596d247219dcc, name:singletable-inline-edit/index, filebase:index.js, query:, file:singletable-inline-edit/index.js */!function(_){function e(e){for(var t,a,n=e[0],r=e[1],i=e[2],l=0,o=[];l<n.length;l++)a=n[l],F[a]&&o.push(F[a][0]),F[a]=0;for(t in r)Object.prototype.hasOwnProperty.call(r,t)&&(_[t]=r[t]);for(k&&k(e);o.length;)o.shift()();return y.push.apply(y,i||[]),c()}function c(){for(var e,t=0;t<y.length;t++){for(var a=y[t],n=!0,r=1;r<a.length;r++){var i=a[r];0!==F[i]&&(n=!1)}n&&(y.splice(t--,1),e=M(M.s=a[0]))}return e}var a=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!I[e]||!p[e])return;for(var a in p[e]=!1,t)Object.prototype.hasOwnProperty.call(t,a)&&(L[a]=t[a]);0==--s&&0===d&&m()}(e,t),a&&a(e,t)};var i,n=!0,V="04a7939bec0a7ea3c0ad",t=1e4,j={},T=[],r=[];var l=[],q="idle";function N(e){q=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var o,L,Y,s=0,d=0,u={},p={},I={};function A(e){return+e+""===e?+e:e}function f(e){if("idle"!==q)throw new Error("check() is only allowed in idle status");return n=e,N("check"),(i=t,i=i||1e4,new Promise(function(t,a){if("undefined"==typeof XMLHttpRequest)return a(new Error("No browser support"));try{var n=new XMLHttpRequest,r=M.p+""+V+".hot-update.json";n.open("GET",r,!0),n.timeout=i,n.send(null)}catch(e){return a(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)a(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)a(new Error("Manifest request to "+r+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void a(e)}t(e)}}})).then(function(e){if(!e)return N("idle"),null;p={},u={},I=e.c,Y=e.h,N("prepare");var t=new Promise(function(e,t){o={resolve:e,reject:t}});for(var a in L={},F)h(a);return"prepare"===q&&0===d&&0===s&&m(),t});var i}function h(e){var t,a;I[e]?(p[e]=!0,s++,t=e,(a=document.createElement("script")).charset="utf-8",a.src=M.p+""+t+"."+V+".hot-update.js",document.head.appendChild(a)):u[e]=!0}function m(){N("ready");var t=o;if(o=null,t)if(n)Promise.resolve().then(function(){return v(n)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var a in L)Object.prototype.hasOwnProperty.call(L,a)&&e.push(A(a));t.resolve(e)}}function v(a){if("ready"!==q)throw new Error("apply() is only allowed in ready status");var e,t,n,d,r;function i(e){for(var t=[e],a={},n=t.slice().map(function(e){return{chain:[e],id:e}});0<n.length;){var r=n.pop(),i=r.id,l=r.chain;if((d=H[i])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:l,moduleId:i};if(d.hot._main)return{type:"unaccepted",chain:l,moduleId:i};for(var o=0;o<d.parents.length;o++){var c=d.parents[o],s=H[c];if(s){if(s.hot._declinedDependencies[i])return{type:"declined",chain:l.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(s.hot._acceptedDependencies[i]?(a[c]||(a[c]=[]),u(a[c],[i])):(delete a[c],t.push(c),n.push({chain:l.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:a}}function u(e,t){for(var a=0;a<t.length;a++){var n=t[a];-1===e.indexOf(n)&&e.push(n)}}a=a||{};var l={},o=[],c={},s=function(){console.warn("[HMR] unexpected require("+f.moduleId+") to disposed module")};for(var p in L)if(Object.prototype.hasOwnProperty.call(L,p)){var f;r=A(p);var h=!1,m=!1,v=!1,y="";switch((f=L[p]?i(r):{type:"disposed",moduleId:p}).chain&&(y="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":a.onDeclined&&a.onDeclined(f),a.ignoreDeclined||(h=new Error("Aborted because of self decline: "+f.moduleId+y));break;case"declined":a.onDeclined&&a.onDeclined(f),a.ignoreDeclined||(h=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+y));break;case"unaccepted":a.onUnaccepted&&a.onUnaccepted(f),a.ignoreUnaccepted||(h=new Error("Aborted because "+r+" is not accepted"+y));break;case"accepted":a.onAccepted&&a.onAccepted(f),m=!0;break;case"disposed":a.onDisposed&&a.onDisposed(f),v=!0;break;default:throw new Error("Unexception type "+f.type)}if(h)return N("abort"),Promise.reject(h);if(m)for(r in c[r]=L[r],u(o,f.outdatedModules),f.outdatedDependencies)Object.prototype.hasOwnProperty.call(f.outdatedDependencies,r)&&(l[r]||(l[r]=[]),u(l[r],f.outdatedDependencies[r]));v&&(u(o,[f.moduleId]),c[r]=s)}var g,b=[];for(t=0;t<o.length;t++)r=o[t],H[r]&&H[r].hot._selfAccepted&&b.push({module:r,errorHandler:H[r].hot._selfAccepted});N("dispose"),Object.keys(I).forEach(function(e){!1===I[e]&&delete F[e]});for(var E,k,w=o.slice();0<w.length;)if(r=w.pop(),d=H[r]){var x={},C=d.hot._disposeHandlers;for(n=0;n<C.length;n++)(e=C[n])(x);for(j[r]=x,d.hot.active=!1,delete H[r],delete l[r],n=0;n<d.children.length;n++){var D=H[d.children[n]];D&&(0<=(g=D.parents.indexOf(r))&&D.parents.splice(g,1))}}for(r in l)if(Object.prototype.hasOwnProperty.call(l,r)&&(d=H[r]))for(k=l[r],n=0;n<k.length;n++)E=k[n],0<=(g=d.children.indexOf(E))&&d.children.splice(g,1);for(r in N("apply"),V=Y,c)Object.prototype.hasOwnProperty.call(c,r)&&(_[r]=c[r]);var S=null;for(r in l)if(Object.prototype.hasOwnProperty.call(l,r)&&(d=H[r])){k=l[r];var O=[];for(t=0;t<k.length;t++)if(E=k[t],e=d.hot._acceptedDependencies[E]){if(-1!==O.indexOf(e))continue;O.push(e)}for(t=0;t<O.length;t++){e=O[t];try{e(k)}catch(e){a.onErrored&&a.onErrored({type:"accept-errored",moduleId:r,dependencyId:k[t],error:e}),a.ignoreErrored||S||(S=e)}}}for(t=0;t<b.length;t++){var P=b[t];r=P.module,T=[r];try{M(r)}catch(t){if("function"==typeof P.errorHandler)try{P.errorHandler(t)}catch(e){a.onErrored&&a.onErrored({type:"self-accept-error-handler-errored",moduleId:r,error:e,originalError:t}),a.ignoreErrored||S||(S=e),S||(S=t)}else a.onErrored&&a.onErrored({type:"self-accept-errored",moduleId:r,error:t}),a.ignoreErrored||S||(S=t)}}return S?(N("fail"),Promise.reject(S)):(N("idle"),new Promise(function(e){e(o)}))}var H={},F={4:0},y=[];function M(e){if(H[e])return H[e].exports;var t,n,a=H[e]={i:e,l:!1,exports:{},hot:(t=e,n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var a=0;a<e.length;a++)n._acceptedDependencies[e[a]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);0<=t&&n._disposeHandlers.splice(t,1)},check:f,apply:v,status:function(e){if(!e)return q;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);0<=t&&l.splice(t,1)},data:j[t]},i=void 0,n),parents:(r=T,T=[],r),children:[]};return _[e].call(a.exports,a,a.exports,function(t){var a=H[t];if(!a)return M;var n=function(e){return a.hot.active?(H[e]?-1===H[e].parents.indexOf(t)&&H[e].parents.push(t):(T=[t],i=e),-1===a.children.indexOf(e)&&a.children.push(e)):(console.warn("[HMR] unexpected require("+e+") from disposed module "+t),T=[]),M(e)},e=function(t){return{configurable:!0,enumerable:!0,get:function(){return M[t]},set:function(e){M[t]=e}}};for(var r in M)Object.prototype.hasOwnProperty.call(M,r)&&"e"!==r&&"t"!==r&&Object.defineProperty(n,r,e(r));return n.e=function(e){return"ready"===q&&N("prepare"),d++,M.e(e).then(t,function(e){throw t(),e});function t(){d--,"prepare"===q&&(u[e]||h(e),0===d&&0===s&&m())}},n.t=function(e,t){return 1&t&&(e=n(e)),M.t(e,-2&t)},n}(e)),a.l=!0,a.exports}M.m=_,M.c=H,M.d=function(e,t,a){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},M.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(t,e){if(1&e&&(t=M(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(M.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)M.d(a,n,function(e){return t[e]}.bind(null,n));return a},M.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="",M.h=function(){return V};var g=window.webpackJsonp=window.webpackJsonp||[],b=g.push.bind(g);g.push=e,g=g.slice();for(var E=0;E<g.length;E++)e(g[E]);var k=b;y.push([1571,0]),c()}({1553:function(e,t,a){},1554:function(e,t,a){},1571:function(e,t,a){"use strict";a.r(t);a(161);var n=a(0),v=a.n(n),g=a(2),r=a.n(g),i=a(8),b=a.n(i),l=a(17),c=a.n(l),o=a(29),s=a.n(o),d=a(10),u=a.n(d),p=a(11),f=a.n(p),h=a(12),m=a.n(h),y=a(13),E=a.n(y),k=a(14),w=a.n(k),x=a(3),C=a(4),D=a.n(C),S=a(5),O=a(54),P=a(50),_=a(18),V=a(55),j=a(76),T=a(6),q=a.n(T),N=a(58),L=a.n(N),Y=a(25),I=a(62),A=a.n(I),H=a(47),F=a.n(H),M=a(53),U=a(105),G=a(131),R=Y.a.Item,J=x.Select.Option,K=A.a.YearPicker,z=function(e){function t(e){var h;return u()(this,t),(h=m()(this,E()(t).call(this,e))).search=function(){var e=h.props,a=e.status;(0,e.form.validateFields)(function(e,t){t.year&&(t.year=t.year.format("YYYY")),t.dept&&(t.dept=JSON.parse(t.dept).refpk),"view"!=a?h.setState({show:!0,values:t}):h.getQuery(t,0)})},h.reset=function(){h.props.form.resetFields()},h.onClickGo=function(){h.getQuery(h.state.values,0),h.setState({show:!1}),g.actions.inlineEdit.updateState({status:"view",rowEditStatus:!0})},h.onClickCancel=function(){h.setState({show:!1})},h.getQuery=function(e,t){var a=Object(S.f)(h.props.queryParam),n=a.pageParams,r=a.whereParams;for(var i in r=Object(S.f)(r),n.pageIndex=0,e){var l=!0,o=!1,c=void 0;try{for(var s,d=r.entries()[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var u=L()(s.value,2),p=u[0];if(i===u[1].key){r.splice(p,1);break}}}catch(e){o=!0,c=e}finally{try{l||null==d.return||d.return()}finally{if(o)throw c}}if((e[i]||0===e[i])&&0===t){var f="LIKE";["code","month"].includes(i)&&(f="EQ"),["serviceYearsCompany"].includes(i)&&(f="GTEQ"),r.push({key:i,value:e[i],condition:f})}}a.whereParams=r,0===t&&g.actions.inlineEdit.loadList(a)},h.state={show:!1},h}return w()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldProps,a=e.searchOpen,n=e.onCallback;return v.a.createElement(U.a,{searchOpen:a,reset:this.reset,onCallback:n,search:this.search},v.a.createElement(Y.a,{size:"sm"},v.a.createElement(R,{label:"员工编号"},v.a.createElement(x.FormControl,q()({placeholder:"精确查询"},t("code",{initialValue:""})))),v.a.createElement(R,{label:"员工姓名"},v.a.createElement(x.FormControl,q()({placeholder:"模糊查询"},t("name",{initialValue:""})))),v.a.createElement(R,{label:"部门"},v.a.createElement(M.a,t("dept",{initialValue:""}))),v.a.createElement(R,{label:"年份"},v.a.createElement(K,q()({},t("year",{initialValue:null}),{format:"YYYY",locale:F.a,placeholder:"选择年"}))),v.a.createElement(R,{label:"月份"},v.a.createElement(G.a,t("month",{initialValue:""}))),v.a.createElement(R,{label:"是否超标"},v.a.createElement(x.Select,t("exdeeds",{initialValue:""}),v.a.createElement(J,{value:""},"请选择"),v.a.createElement(J,{value:"0"},"未超标"),v.a.createElement(J,{value:"1"},"超标")))),v.a.createElement(V.a,{show:this.state.show,context:"数据未保存，确定查询 ?",confirmFn:this.onClickGo,cancelFn:this.onClickCancel}))}}]),t}(n.Component),Q=Y.a.createForm()(z),W=a(186),X=a(26),B=a.n(X),Z=a(1),$=a.n(Z),ee=a(68),te=a(67),ae=(a(155),{value:$.a.any,onChange:$.a.func,className:$.a.string,field:$.a.string,index:$.a.number,message:$.a.string,data:$.a.array,required:$.a.bool,onValidate:$.a.func,isFlag:$.a.bool,validate:$.a.bool}),ne=function(e){function t(e){var o;return u()(this,t),(o=m()(this,E()(t).call(this,e))).handlerChange=function(e){var t=o.props,a=t.onChange,n=t.field,r=t.index,i=t.status;o.setState({value:e,flag:"edit"==i},function(){o.validate()}),a&&a(n,e,r)},o.validate=function(){var e=o.props,t=e.required,a=e.field,n=e.index,r=e.onValidate,i=o.state.value,l=B()({},a,{type:"number",required:t});new ee.a(l).validate(B()({},a,i),function(e,t){e?o.setState({error:!0}):o.setState({error:!1}),r&&r(a,t,n)})},o.state={value:e.value,flag:!1,error:!1},o}return w()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e,t){1==e.validate&&this.validate()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.error,n=e.flag,r=this.props,i=r.className,l=r.message,o=r.required,c=r.data;return v.a.createElement(te.a,{required:o,error:a,message:l,flag:n},v.a.createElement(x.Select,{className:i,value:t,onChange:this.handlerChange,data:c}))}}]),t}(n.Component);ne.propTypes=ae,ne.defaultProps={field:"",index:"",message:"请选择此字段",data:[],required:!1,isFlag:!1,validate:!1,className:""};var re=ne,ie=a(160),le=a(183),oe=a.n(le).a.YearPicker,ce={value:$.a.any,onChange:$.a.func,className:$.a.string,field:$.a.string,index:$.a.number,message:$.a.string,data:$.a.array,required:$.a.bool,onValidate:$.a.func,isFlag:$.a.bool,validate:$.a.bool},se=function(e){function t(e){var o;return u()(this,t),(o=m()(this,E()(t).call(this,e))).handlerChange=function(e){var t=o.props,a=t.onChange,n=t.field,r=t.index,i=t.status;o.setState({value:e,flag:"edit"==i},function(){o.validate()}),a&&a(n,D()(e).format("YYYY"),r)},o.validate=function(){var e=o.props,t=e.required,a=e.field,n=e.index,r=e.onValidate,i=o.state.value,l=B()({},a,{type:"object",required:t});new ee.a(l).validate(B()({},a,i),function(e,t){e?o.setState({error:!0}):o.setState({error:!1}),r&&r(a,t,n)})},o.state={value:D()(e.value),flag:!1,error:!1},o}return w()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){1==e.validate&&this.validate()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.error,n=e.flag,r=this.props,i=r.className,l=r.message,o=r.required;return v.a.createElement(te.a,{required:o,error:a,message:l,flag:n},v.a.createElement(oe,{className:i,value:t,onChange:this.handlerChange,format:"YYYY",locale:F.a,placeholder:"选择年"}))}}]),t}(n.Component);se.propTypes=ce,se.defaultProps={field:"",index:"",message:"请输入此字段",data:[],required:!1,isFlag:!1,validate:!1};var de=se,ue={value:$.a.any,onChange:$.a.func,className:$.a.string,field:$.a.string,index:$.a.number,message:$.a.string,data:$.a.array,required:$.a.bool,onValidate:$.a.func,isFlag:$.a.bool,validate:$.a.bool},pe=function(e){function t(e){var o;return u()(this,t),(o=m()(this,E()(t).call(this,e))).handlerChange=function(e){var t=o.props,a=t.onChange,n=t.field,r=t.index,i=t.status,l=JSON.parse(e).refpk;o.setState({value:e,flag:"edit"==i},function(){o.validate()}),a&&a(n,l,r)},o.validate=function(){var e=o.props,t=e.required,a=e.field,n=e.index,r=e.onValidate,i=o.state.value,l=B()({},a,{type:"string",required:t,pattern:/[^({"refname":"","refpk":""}|{"refpk":"","refname":""})]/});new ee.a(l).validate(B()({},a,i),function(e,t){e?o.setState({error:!0}):o.setState({error:!1}),r&&r(a,t,n)})},o.state={value:e.record.deptName?JSON.stringify({refpk:e.record.dept,refname:e.record.deptName}):"",flag:!1,error:!1},o}return w()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){1==e.validate&&this.validate()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.error,n=e.flag,r=this.props,i=r.className,l=r.message,o=r.required;return v.a.createElement(te.a,{required:o,error:a,message:l,flag:n},v.a.createElement(M.a,{style:{width:"100%"},className:i,value:t,onChange:this.handlerChange}))}}]),t}(n.Component);pe.propTypes=ue,pe.defaultProps={field:"",index:"",message:"请选择部门参照",data:[],required:!1,isFlag:!1,validate:!1};var fe=pe,he={value:$.a.any,onChange:$.a.func,className:$.a.string,field:$.a.string,index:$.a.number,message:$.a.string,data:$.a.array,required:$.a.bool,onValidate:$.a.func,isFlag:$.a.bool,validate:$.a.bool},me=function(e){function t(e){var o;return u()(this,t),(o=m()(this,E()(t).call(this,e))).handlerChange=function(e){var t=o.props,a=t.onChange,n=t.field,r=t.index,i=t.status,l=JSON.parse(e).refpk;o.setState({value:e,flag:"edit"==i},function(){o.validate()}),a&&a(n,l,r)},o.validate=function(){var e=o.props,t=e.required,a=e.field,n=e.index,r=e.onValidate,i=o.state.value,l=B()({},a,{type:"string",required:t,pattern:/[^({"refname":"","refpk":""}|{"refpk":"","refname":""})]/});new ee.a(l).validate(B()({},a,i),function(e,t){e?o.setState({error:!0}):o.setState({error:!1}),r&&r(a,t,n)})},o.state={value:e.record.levelName?JSON.stringify({refpk:e.record.postLevel,refname:e.record.levelName}):"",flag:!1,error:!1},o}return w()(t,e),f()(t,[{key:"componentWillReceiveProps",value:function(e){1==e.validate&&this.validate()}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.error,n=e.flag,r=this.props,i=r.className,l=r.message,o=r.required;return v.a.createElement(te.a,{required:o,error:a,message:l,flag:n},v.a.createElement(M.b,{style:{width:"100%"},className:i,value:t,onChange:this.handlerChange}))}}]),t}(n.Component);me.propTypes=he,me.defaultProps={field:"",index:"",message:"请选择职级参照",data:[],required:!1,isFlag:!1,validate:!1};var ve,ye,ge,be,Ee=me,ke=a(271),we={name:{component:W.a,type:"text"},sex:{component:re,selectList:[{key:"请选择",value:"",disabled:!0},{key:"男",value:1},{key:"女",value:0}],type:"select"},serviceYears:{component:ie.a,props:{iconStyle:"one",max:99,min:0,step:1},type:"number"},serviceYearsCompany:{component:ie.a,props:{iconStyle:"one",max:99,min:0,step:1},type:"number"},month:{component:re,selectList:[{key:"请选择",value:"",disabled:!0},{key:"一月",value:1},{key:"二月",value:2},{key:"三月",value:3},{key:"四月",value:4},{key:"五月",value:5},{key:"六月",value:6},{key:"七月",value:7},{key:"八月",value:8},{key:"九月",value:9},{key:"十月",value:10},{key:"十一月",value:11},{key:"十二月",value:12}],type:"select"},allowanceType:{component:re,selectList:[{key:"请选择",value:"",disabled:!0},{key:"电脑补助",value:1},{key:"住宿补助",value:2},{key:"交通补助",value:3}],type:"select"},allowanceStandard:{component:ie.a,props:{max:999999,min:0,step:1,precision:2},type:"number"},allowanceActual:{component:ie.a,props:{max:999999,min:0,step:1,precision:2},type:"number"},exdeeds:{component:re,selectList:[{key:"请选择",value:"",disabled:!0},{key:"未超标",value:0},{key:"超标",value:1}],type:"select"},pickType:{component:re,selectList:[{key:"请选择",value:"",disabled:!0},{key:"转账",value:1},{key:"现金",value:2}],type:"select"},remark:{component:W.a,type:"text"},year:{component:de,type:"dateYear"},date:{component:ke.a,type:"date"},dept:{component:fe,type:"ref",valueKey:"deptName"},level:{component:Ee,type:"ref",valueKey:"levelName"}},xe=function(e){function t(e){var h;return u()(this,t),(h=m()(this,E()(t).call(this,e))).renderComp=function(){var e=h.props,t=e.type,a=e.value,n=e.record,r=we[t];if(r){var i,l=r.component,o=r.type,c=r.props,s=c||{},d=n._edit,u=n._status,p=n._validate;switch(o){case"dateYear":case"date":case"text":i=a;break;case"number":i=c.precision&&0<c.precision?"number"==typeof a?a.toFixed(c.precision):"":a;break;case"select":var f=r.selectList.find(function(e){return e.value===a});i=f?f.key:"";break;case"ref":i=n[r.valueKey];break;default:i=""}return d?v.a.createElement(l,q()({status:u,validate:p},s,h.props,{data:r.selectList})):v.a.createElement("div",null,i)}return v.a.createElement("div",null,"组件类型错误")},h}return w()(t,e),f()(t,[{key:"render",value:function(){return v.a.createElement("div",null,this.renderComp())}}]),t}(n.Component),Ce=(a(1553),function(e){function t(e){var o;return u()(this,t),(o=m()(this,E()(t).call(this,e))).oldData=[],o.column=[{title:"员工编号",dataIndex:"code",key:"code",width:150},{title:"员工姓名",dataIndex:"name",key:"name",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"name",value:e,field:"name",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"员工性别",dataIndex:"sexEnumValue",key:"sexEnumValue",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"sex",value:t.sex,field:"sex",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"所属部门",dataIndex:"deptName",key:"deptName",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"dept",field:"dept",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"职级",dataIndex:"levelName",key:"levelName",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"level",field:"postLevel",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"工龄",dataIndex:"serviceYears",key:"serviceYears",width:130,className:"column-number-right ",render:function(e,t,a){return v.a.createElement(xe,{type:"serviceYears",value:e,field:"serviceYears",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"司龄",dataIndex:"serviceYearsCompany",key:"serviceYearsCompany",width:130,className:"column-number-right ",render:function(e,t,a){return v.a.createElement(xe,{type:"serviceYearsCompany",value:e,field:"serviceYearsCompany",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"年份",dataIndex:"year",key:"year",width:100,render:function(e,t,a){return v.a.createElement(xe,{type:"year",value:e,field:"year",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"月份",dataIndex:"monthEnumValue",key:"monthEnumValue",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"month",value:t.month,field:"month",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"补贴类别",dataIndex:"allowanceTypeEnumValue",key:"allowanceTypeEnumValue",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"allowanceType",value:t.allowanceType,field:"allowanceType",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"补贴标准",dataIndex:"allowanceStandard",key:"allowanceStandard",width:120,className:"column-number-right ",render:function(e,t,a){return v.a.createElement(xe,{type:"allowanceStandard",value:e,field:"allowanceStandard",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"实际补贴",dataIndex:"allowanceActual",key:"allowanceActual",width:120,className:"column-number-right ",render:function(e,t,a){return v.a.createElement(xe,{type:"allowanceActual",value:e,field:"allowanceActual",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"是否超标",dataIndex:"exdeedsEnumValue",key:"exdeedsEnumValue",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"exdeeds",value:t.exdeeds,field:"exdeeds",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"申请时间",dataIndex:"applyTime",key:"applyTime",width:200,render:function(e,t,a){return""!==e&&void 0!==e?v.a.createElement("div",null,D()(e).format("YYYY-MM-DD hh:mm:ss")):v.a.createElement("div",null)}},{title:"领取方式",dataIndex:"pickTypeEnumValue",key:"pickTypeEnumValue",width:120,render:function(e,t,a){return v.a.createElement(xe,{type:"pickType",value:t.pickType,field:"pickType",index:a,required:!0,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}},{title:"领取时间",dataIndex:"pickTime",key:"pickTime",width:200,render:function(e,t,a){return""!==e&&void 0!==e?v.a.createElement("div",null,D()(e).format("YYYY-MM-DD hh:mm:ss")):v.a.createElement("div",null)}},{title:"备注",dataIndex:"remark",key:"remark",width:100,render:function(e,t,a){return v.a.createElement(xe,{type:"remark",value:e,field:"remark",index:a,required:!1,record:t,onChange:o.changeAllData,onValidate:o.onValidate})}}],o.changeAllData=function(e,t,a){var n=o.oldData,r=Object(S.f)(o.props.list);n[a][e]=t,r[a]._checked||(r[a]._checked=!0,g.actions.inlineEdit.updateState({list:r})),n[a]._checked=!0,o.oldData=n},o.onValidate=function(e,t,a){0<o.oldData.length&&(o.oldData[a]["_".concat(e,"Validate")]=null==t)},o.getSelectedDataFunc=function(e,t,a){var n=o.props.list,r=Object(S.f)(n);null!=a?r[a]._checked=!r[a]._checked:0<e.length?r.map(function(e){e._disabled||(e._checked=!0)}):r.map(function(e){e._disabled||(e._checked=!1)}),g.actions.inlineEdit.updateState({selectData:e,list:r})},o.freshData=function(e){o.onPageSelect(e,0)},o.onDataNumSelect=function(e,t){o.onPageSelect(t,1)},o.onPageSelect=function(e,t){var a=Object(S.f)(o.props.queryParam),n=Object(S.k)(e,t,a.pageParams),r=n.pageIndex,i=n.pageSize;a.pageParams={pageIndex:r,pageSize:i},g.actions.inlineEdit.updateState(a),g.actions.inlineEdit.loadList(a)},o.filterArrayNull=function(e){return e.filter(function(e){return null!=e})},o.hasCheck=function(){var e=o.props,t=e.selectData,a=e.list,n=!1;return t.forEach(function(e){1==e._checked&&(n=!0)}),a.forEach(function(e){1==e._checked&&(n=!0)}),n},o.newDataTmp={_edit:!0,_isNew:!0,_checked:!1,_disabled:!1,_flag:!1,code:"",name:"",sex:"",sexEnumValue:"",deptName:"",levelName:"",serviceYears:0,serviceYearsCompany:0,year:D()().format("YYYY"),month:"",monthEnumValue:"",allowanceType:"",allowanceTypeEnumValue:"",allowanceStandard:0,allowanceActual:0,exdeeds:"",exdeedsEnumValue:"",pickType:"",pickTypeEnumValue:"",remark:""},o.handlerNew=function(){var e=Object(S.f)(o.props.list),t=s()({key:Object(S.r)()},o.newDataTmp);o.oldData.length<=0&&(e.forEach(function(e){e._disabled=!0,e._checked=!1}),o.grid.resetColumns(o.column)),o.oldData.unshift(t),e.unshift(t),g.actions.inlineEdit.updateState({list:e,status:"new",rowEditStatus:!1,selectData:[]})},o.onClickUpdate=function(){var e=o.props.list.map(function(e){return e._edit=!0,e._checked=!1,e._status="edit",e});o.grid.resetColumns(o.column),o.oldData=Object(S.f)(e),g.actions.inlineEdit.updateState({list:e,status:"edit",rowEditStatus:!1})},o.onClickDownloadTemplate=function(){window.open("".concat("/iuap-pap-demo-be","/inline_allowances/excelTemplateDownload"))},o.filterList=function(e,t,n){var r=t.slice(),i=[];return e.forEach(function(a){r.forEach(function(e,t){a[n]===e[n]&&e._checked&&(e._validate=!0,i.push(a))})}),{newList:r,selectList:i}},o.isVerifyData=function(r){var i=!0,l=/Validate\b/;return r.forEach(function(e,t){var a=Object.keys(e);if(i)for(var n=0;n<a.length;n++)if(l.test(a[n])){if(!r[t][a[n]]){i=!1;break}i=!0}}),i},o.onClickSave=c()(b.a.mark(function e(){var t,a,n,r,i,l;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=o.props,a=t.status,n=t.list,i=r=null,l="请勾选数据后再新增",e.t0=a,e.next="new"===e.t0?7:"edit"===e.t0?10:14;break;case 7:return r=o.filterList(o.oldData,n,"key"),i=g.actions.inlineEdit.adds,e.abrupt("break",15);case 10:return r=o.filterList(o.oldData,n,"id"),i=g.actions.inlineEdit.updates,l="请勾选数据后再更新",e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:if(0<r.selectList.length)return e.next=18,g.actions.inlineEdit.updateState({list:r.newList});e.next=28;break;case 18:if(o.isVerifyData(r.selectList))return e.next=21,i(r.selectList);e.next=25;break;case 21:e.sent&&(o.oldData=[]),e.next=26;break;case 25:Object(S.b)("数据填写不完整");case 26:e.next=29;break;case 28:Object(S.b)(l);case 29:case"end":return e.stop()}},e)})),o.onClickDelConfirm=function(){0<o.props.selectData.length?o.setState({showPop:!0}):Object(S.b)("请勾选数据后再删除")},o.onClickDel=c()(b.a.mark(function e(){var t;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.props.selectData,e.next=3,g.actions.inlineEdit.removes(t);case 3:e.sent&&(o.oldData=[]),o.setState({showPop:!1});case 6:case"end":return e.stop()}},e)})),o.onClickPopCancel=function(){o.setState({showPop:!1})},o.onClickCancel=function(){o.hasCheck()?o.setState({showPopCancel:!0}):(o.oldData=[],g.actions.inlineEdit.resetData(!0),g.actions.inlineEdit.updateState({selectData:[],rowEditStatus:!0}))},o.onClickPopUnSaveOK=function(){g.actions.inlineEdit.resetData(!0),g.actions.inlineEdit.updateState({selectData:[],rowEditStatus:!0}),o.setState({showPopCancel:!1}),o.oldData=[]},o.onClickPopUnSaveCancel=function(){o.setState({showPopCancel:!1})},o.onClickExport=function(){o.grid.exportExcel()},o.resetTableHeight=function(e){var t=0;t=e?Object(S.j)()-420:Object(S.j)()-270,o.setState({tableHeight:t})},o.state={tableHeight:0,showPop:!1,showPopCancel:!1,validate:!1},o}return w()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.resetTableHeight(!0)}},{key:"componentDidMount",value:function(){g.actions.inlineEdit.loadList(this.props.queryParam)}},{key:"render",value:function(){var t=this,e=this.state,a=e.showPop,n=e.showPopCancel,r=e.tableHeight,i=this.props,l=i.list,o=i.showLoading,c=i.pageIndex,s=i.pageSize,d=i.totalPages,u=i.total,p=i.status,f=i.rowEditStatus,h=i.queryParam,m={activePage:c,total:u,items:d,freshData:this.freshData,onDataNumSelect:this.onDataNumSelect,disabled:"view"!==p};return v.a.createElement("div",{className:"inline-edit"},v.a.createElement(P.a,{title:"A2单表行内编辑示例"}),v.a.createElement(Q,{queryParam:h,status:p,pageSize:s,searchOpen:!0,onCallback:this.resetTableHeight}),v.a.createElement("div",{className:"table-header"},v.a.createElement(j.a,{funcCode:"singletable-inlineEdit",onComplete:function(){return console.log("按钮权限加载完成")}},v.a.createElement(_.a,{role:"add",disabled:Object(S.h)("add",p),className:"ml8",colors:"primary",onClick:this.handlerNew},"新增"),v.a.createElement(_.a,{role:"update",shape:"border",disabled:Object(S.h)("edit",p),className:"ml8",onClick:this.onClickUpdate},"修改"),v.a.createElement(_.a,{role:"delete",shape:"border",disabled:Object(S.h)("del",p),className:"ml8",onClick:this.onClickDelConfirm},"删除"),v.a.createElement(_.a,{shape:"border",disabled:Object(S.h)("export",p),className:"ml8",onClick:this.onClickExport},"导出"),v.a.createElement(_.a,{shape:"border",disabled:Object(S.h)("save",p),className:"ml8",onClick:this.onClickSave},"保存"),v.a.createElement(_.a,{shape:"border",disabled:Object(S.h)("cancel",p),className:"ml8",onClick:this.onClickCancel},"取消"),v.a.createElement(V.a,{show:n,context:"数据未保存，确定离开 ?",confirmFn:this.onClickPopUnSaveOK,cancelFn:this.onClickPopUnSaveCancel}))),v.a.createElement("div",{className:"grid-parent"},v.a.createElement(O.a,{ref:function(e){return t.grid=e},data:l,rowKey:function(e){return e.id?e.id:e.key},columns:this.column,paginationObj:m,columnFilterAble:f,showHeaderMenu:f,dragborder:f,draggable:f,syncHover:f,getSelectedDataFunc:this.getSelectedDataFunc,scroll:{y:r}})),v.a.createElement(V.a,{show:a,context:"是否要删除 ?",confirmFn:this.onClickDel,cancelFn:this.onClickPopCancel}),v.a.createElement(x.Loading,{fullScreen:!0,show:o}))}}]),t}(n.Component)),De=a(23),Se=(a(104),{GET_LIST:"".concat("/iuap-pap-demo-be","/inline_allowances/list"),GET_ADD:"".concat("/iuap-pap-demo-be","/inline_allowances/saveMultiple"),GET_UPDATE:"".concat("/iuap-pap-demo-be","/inline_allowances/updateMultiple"),GET_DELETE:"".concat("/iuap-pap-demo-be","/inline_allowances/deleteBatch"),GET_LIST_BY_COL:"".concat("/iuap-pap-demo-be","/inline_allowances/listByColumn"),GET_TOEXPORTEXCEL:"".concat("/iuap-pap-demo-be","/inline_allowances/toExportExcel")}),Oe=(window[window.webkitURL?"webkitURL":"URL"],{name:"inlineEdit",initialState:{cacheData:[],tableData:[],selectData:[],status:"view",rowEditStatus:!0,showLoading:!1,list:[],totalPages:1,total:0,queryParam:{pageParams:{pageIndex:0,pageSize:25},whereParams:[]}},reducers:{updateState:function(e,t){return s()({},e,t)}},effects:{loadList:(be=c()(b.a.mark(function e(r,i){var l,o,c,s,d,u,p,f,h,m,v,y;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.actions.inlineEdit.updateState({showLoading:!0,status:"view",rowEditStatus:!0,selectData:[]}),l=i().inlineEdit,o=r||l.queryParam,e.t0=S.o,e.next=6,t=o,a=void 0,a=Object.assign({},t),n=Object(S.f)(a.pageParams),delete a.pageParams,Object(De.a)(Se.GET_LIST,{method:"post",data:a,param:n});case 6:e.t1=e.sent,c=(0,e.t0)(e.t1),s=c.result,d=s.data,u={showLoading:!1},p=null,p=d?(f=d.content,h=d.number,m=d.totalPages,v=d.totalElements,y=h+1,Object.assign({},u,{list:f,pageIndex:y,totalPages:m,total:v,queryParam:o,cacheData:f})):u,g.actions.inlineEdit.updateState(p);case 14:case"end":return e.stop()}var t,a,n},e)})),function(e,t){return be.apply(this,arguments)}),adds:(ge=c()(b.a.mark(function e(a){var n,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.actions.inlineEdit.updateState({showLoading:!0}),e.t0=S.o,e.next=4,t=a,Object(De.a)(Se.GET_ADD,{method:"post",data:t});case 4:if(e.t1=e.sent,n=(0,e.t0)(e.t1,"保存成功"),r=n.result,i=r.status,g.actions.inlineEdit.updateState({showLoading:!1}),"success"===i)return g.actions.inlineEdit.loadList(),e.abrupt("return",!0);e.next=14;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}var t},e)})),function(e){return ge.apply(this,arguments)}),removes:(ye=c()(b.a.mark(function e(a,n){var r,i,l,o,c,s,d,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.actions.inlineEdit.updateState({showLoading:!0}),e.t0=S.o,e.next=4,t=a,Object(De.a)(Se.GET_DELETE,{method:"post",data:t});case 4:if(e.t1=e.sent,r=(0,e.t0)(e.t1,"删除成功"),i=r.result,l=i.status,g.actions.inlineEdit.updateState({showLoading:!1}),"success"===l)return o=n().inlineEdit,c=o.queryParam,s=o.list,d=o.totalPages,0<(u=c.pageParams.pageIndex)&&u+1===d&&a.length===s.length&&(c.pageParams.pageIndex=u-1),g.actions.inlineEdit.loadList(c),e.abrupt("return",!0);e.next=18;break;case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}var t},e)})),function(e,t){return ye.apply(this,arguments)}),updates:(ve=c()(b.a.mark(function e(a){var n,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.actions.inlineEdit.updateState({showLoading:!0}),e.t0=S.o,e.next=4,t=a,Object(De.a)(Se.GET_UPDATE,{method:"post",data:t});case 4:if(e.t1=e.sent,n=(0,e.t0)(e.t1,"更新成功"),r=n.result,i=r.status,g.actions.inlineEdit.updateState({showLoading:!1}),"success"===i)return g.actions.inlineEdit.loadList(),e.abrupt("return",!0);e.next=14;break;case 14:return e.abrupt("return",!1);case 15:case"end":return e.stop()}var t},e)})),function(e){return ve.apply(this,arguments)}),resetData:function(e,t){var a=t().inlineEdit.cacheData.slice();a.forEach(function(e){delete e._edit});var n={list:a};e&&(n.status="view"),g.actions.inlineEdit.updateState(n)}}});r.a.model(Oe);var Pe=Object(g.connect)(function(e){return e.inlineEdit},null)(Ce);a(1554);Object(g.render)(v.a.createElement(Pe,null),document.querySelector("#app"))}});
//# sourceMappingURL=index.js.map